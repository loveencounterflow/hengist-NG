(async function() {
  'use strict';
  var GUY, alert, debug, demo, echo, help, info, inspect, log, plain, praise, reverse, rpr, urge, warn, whisper;

  //===========================================================================================================
  GUY = require('guy');

  ({alert, debug, help, info, plain, praise, urge, warn, whisper} = GUY.trm.get_loggers('demo-execa'));

  ({rpr, inspect, echo, reverse, log} = GUY.trm);

  //===========================================================================================================
  demo = async function() {
    var Get_random, SFMODULES, after, get_random, input, limit, limitFunction, mul, pLimit, sleep;
    ({
      default: pLimit,
      limitFunction
    } = require('p-limit'));
    ({sleep, after} = GUY.async);
    SFMODULES = require('../../../apps/bricabrac-sfmodules');
    ({Get_random} = SFMODULES.unstable.require_get_random());
    get_random = new Get_random(); // { seed: 88, }
    //.........................................................................................................
    mul = async function(a, b) {
      var c, dt;
      c = a * b;
      dt = get_random.float();
      // await sleep dt
      await sleep(0.1);
      whisper('Ωapl___1', {a, b, c, dt});
      // help 'Ωapl___2', { a, b, c, }
      return c;
    };
    //.........................................................................................................
    // debug 'Ωapl___3', pLimit
    // debug 'Ωapl___4', limitFunction
    limit = pLimit(5);
    input = [
      limit(async function() {
        var R;
        await sleep(get_random.float());
        info('Ωapl___5',
      R = (await mul(1,
      9)));
        return R;
      }),
      limit(async function() {
        var R;
        await sleep(get_random.float());
        info('Ωapl___6',
      R = (await mul(2,
      9)));
        return R;
      }),
      limit(async function() {
        var R;
        await sleep(get_random.float());
        info('Ωapl___7',
      R = (await mul(3,
      9)));
        return R;
      }),
      limit(async function() {
        var R;
        await sleep(get_random.float());
        info('Ωapl___8',
      R = (await mul(4,
      9)));
        return R;
      }),
      limit(async function() {
        var R;
        await sleep(get_random.float());
        info('Ωapl___9',
      R = (await mul(5,
      9)));
        return R;
      }),
      limit(async function() {
        var R;
        await sleep(get_random.float());
        info('Ωapl__10',
      R = (await mul(6,
      9)));
        return R;
      }),
      limit(async function() {
        var R;
        await sleep(get_random.float());
        info('Ωapl__11',
      R = (await mul(7,
      9)));
        return R;
      }),
      limit(async function() {
        var R;
        await sleep(get_random.float());
        info('Ωapl__12',
      R = (await mul(8,
      9)));
        return R;
      }),
      limit(async function() {
        var R;
        await sleep(get_random.float());
        info('Ωapl__13',
      R = (await mul(9,
      9)));
        return R;
      }),
      limit(async function() {
        var R;
        await sleep(get_random.float());
        info('Ωapl__14',
      R = (await mul(10,
      9)));
        return R;
      })
    ];
    debug('Ωapl__15', (await Promise.all(input)));
    return null;
  };

  //===========================================================================================================
  if (module === require.main) {
    await (async() => {
      await demo();
      return null;
    })();
  }

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2RlbW8tYXN5bmMtcGxpbWl0LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUFBO0FBQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxPQUFBOzs7RUFHQSxHQUFBLEdBQTRCLE9BQUEsQ0FBUSxLQUFSOztFQUM1QixDQUFBLENBQUUsS0FBRixFQUNFLEtBREYsRUFFRSxJQUZGLEVBR0UsSUFIRixFQUlFLEtBSkYsRUFLRSxNQUxGLEVBTUUsSUFORixFQU9FLElBUEYsRUFRRSxPQVJGLENBQUEsR0FRNEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxXQUFSLENBQW9CLFlBQXBCLENBUjVCOztFQVNBLENBQUEsQ0FBRSxHQUFGLEVBQ0UsT0FERixFQUVFLElBRkYsRUFHRSxPQUhGLEVBSUUsR0FKRixDQUFBLEdBSTRCLEdBQUcsQ0FBQyxHQUpoQyxFQWJBOzs7RUFxQkEsSUFBQSxHQUFPLE1BQUEsUUFBQSxDQUFBLENBQUE7QUFDUCxRQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsS0FBQSxFQUFBLFVBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLGFBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBO0lBQUUsQ0FBQTtNQUFFLE9BQUEsRUFBUyxNQUFYO01BQ0U7SUFERixDQUFBLEdBQzRCLE9BQUEsQ0FBUSxTQUFSLENBRDVCO0lBRUEsQ0FBQSxDQUFFLEtBQUYsRUFDRSxLQURGLENBQUEsR0FDNEIsR0FBRyxDQUFDLEtBRGhDO0lBRUEsU0FBQSxHQUE0QixPQUFBLENBQVEsbUNBQVI7SUFDNUIsQ0FBQSxDQUFFLFVBQUYsQ0FBQSxHQUE0QixTQUFT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UUFBQSxDQUFBLENBQUE7QUFBRSxZQUFBO1FBQUMsTUFBTSxLQUFBLENBQU0sVUFBVSxDQUFDLEtBQVgsQ0FBQSxDQUFOO1FBQTBCLElBQUEsQ0FBSyxVQUFMO01BQWlCLENBQUEsR0FBSSxDQUFBLE1BQU0sR0FBQSxDQUFJLENBQUo7TUFBTyxDQUFQLENBQU4sQ0FBckI7QUFBcUMsZUFBTztNQUEvRSxDQUFOLENBUk07TUFTTixLQUFBLENBQU0sTUFBQSxRQUFBLENBQUEsQ0FBQTtBQUFFLFlBQUE7UUFBQyxNQUFNLEtBQUEsQ0FBTSxVQUFVLENBQUMsS0FBWCxDQUFBLENBQU47UUFBMEIsSUFBQSxDQUFLLFVBQUw7TUFBaUIsQ0FBQSxHQUFJLENBQUEsTUFBTSxHQUFBLENBQUksQ0FBSjtNQUFPLENBQVAsQ0FBTixDQUFyQjtBQUFxQyxlQUFPO01BQS9FLENBQU4sQ0FUTTtNQVVOLEtBQUEsQ0FBTSxNQUFBLFFBQUEsQ0FBQSxDQUFBO0FBQUUsWUFBQTtRQUFDLE1BQU0sS0FBQSxDQUFNLFVBQVUsQ0FBQyxLQUFYLENBQUEsQ0FBTjtRQUEwQixJQUFBLENBQUssVUFBTDtNQUFpQixDQUFBLEdBQUksQ0FBQSxNQUFNLEdBQUEsQ0FBSSxFQUFKO01BQVEsQ0FBUixDQUFOLENBQXJCO0FBQXNDLGVBQU87TUFBaEYsQ0FBTixDQVZNOztJQVlSLEtBQUEsQ0FBTSxVQUFOLEVBQWtCLENBQUEsTUFBTSxPQUFPLENBQUMsR0FBUixDQUFZLEtBQVosQ0FBTixDQUFsQjtXQUNDO0VBbENJLEVBckJQOzs7RUEyREEsSUFBRyxNQUFBLEtBQVUsT0FBTyxDQUFDLElBQXJCO0lBQStCLE1BQVMsQ0FBQSxLQUFBLENBQUEsQ0FBQSxHQUFBO01BQ3RDLE1BQU0sSUFBQSxDQUFBO2FBQ0w7SUFGcUMsQ0FBQSxJQUF4Qzs7QUEzREEiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuXG4ndXNlIHN0cmljdCdcblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5HVVkgICAgICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnZ3V5J1xueyBhbGVydFxuICBkZWJ1Z1xuICBoZWxwXG4gIGluZm9cbiAgcGxhaW5cbiAgcHJhaXNlXG4gIHVyZ2VcbiAgd2FyblxuICB3aGlzcGVyIH0gICAgICAgICAgICAgICA9IEdVWS50cm0uZ2V0X2xvZ2dlcnMgJ2RlbW8tZXhlY2EnXG57IHJwclxuICBpbnNwZWN0XG4gIGVjaG9cbiAgcmV2ZXJzZVxuICBsb2cgICAgIH0gICAgICAgICAgICAgICA9IEdVWS50cm1cblxuXG4jPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmRlbW8gPSAtPlxuICB7IGRlZmF1bHQ6IHBMaW1pdCxcbiAgICBsaW1pdEZ1bmN0aW9uLCAgICAgICAgfSA9IHJlcXVpcmUgJ3AtbGltaXQnXG4gIHsgc2xlZXAsXG4gICAgYWZ0ZXIsICAgICAgICAgICAgICAgIH0gPSBHVVkuYXN5bmNcbiAgU0ZNT0RVTEVTICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJy4uLy4uLy4uL2FwcHMvYnJpY2FicmFjLXNmbW9kdWxlcydcbiAgeyBHZXRfcmFuZG9tLCAgICAgICAgICAgfSA9IFNGTU9EVUxFUy51bnN0YWJsZS5yZXF1aXJlX2dldF9yYW5kb20oKVxuICBnZXRfcmFuZG9tICAgICAgICAgICAgICAgID0gbmV3IEdldF9yYW5kb20oKSAjIHsgc2VlZDogODgsIH1cbiAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICBtdWwgPSAoIGEsIGIgKSAtPlxuICAgIGMgICA9IGEgKiBiXG4gICAgZHQgID0gZ2V0X3JhbmRvbS5mbG9hdCgpXG4gICAgIyBhd2FpdCBzbGVlcCBkdFxuICAgIGF3YWl0IHNsZWVwIDAuMVxuICAgIHdoaXNwZXIgJ86pYXBsX19fMScsIHsgYSwgYiwgYywgZHQsIH1cbiAgICAjIGhlbHAgJ86pYXBsX19fMicsIHsgYSwgYiwgYywgfVxuICAgIHJldHVybiBjXG4gICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgIyBkZWJ1ZyAnzqlhcGxfX18zJywgcExpbWl0XG4gICMgZGVidWcgJ86pYXBsX19fNCcsIGxpbWl0RnVuY3Rpb25cbiAgbGltaXQgPSBwTGltaXQgNVxuICBpbnB1dCA9IFtcbiAgICBsaW1pdCAtPiBhd2FpdCBzbGVlcCBnZXRfcmFuZG9tLmZsb2F0KCk7IGluZm8gJ86pYXBsX19fNScsIFIgPSBhd2FpdCBtdWwgMSwgOTsgcmV0dXJuIFJcbiAgICBsaW1pdCAtPiBhd2FpdCBzbGVlcCBnZXRfcmFuZG9tLmZsb2F0KCk7IGluZm8gJ86pYXBsX19fNicsIFIgPSBhd2FpdCBtdWwgMiwgOTsgcmV0dXJuIFJcbiAgICBsaW1pdCAtPiBhd2FpdCBzbGVlcCBnZXRfcmFuZG9tLmZsb2F0KCk7IGluZm8gJ86pYXBsX19fNycsIFIgPSBhd2FpdCBtdWwgMywgOTsgcmV0dXJuIFJcbiAgICBsaW1pdCAtPiBhd2FpdCBzbGVlcCBnZXRfcmFuZG9tLmZsb2F0KCk7IGluZm8gJ86pYXBsX19fOCcsIFIgPSBhd2FpdCBtdWwgNCwgOTsgcmV0dXJuIFJcbiAgICBsaW1pdCAtPiBhd2FpdCBzbGVlcCBnZXRfcmFuZG9tLmZsb2F0KCk7IGluZm8gJ86pYXBsX19fOScsIFIgPSBhd2FpdCBtdWwgNSwgOTsgcmV0dXJuIFJcbiAgICBsaW1pdCAtPiBhd2FpdCBzbGVlcCBnZXRfcmFuZG9tLmZsb2F0KCk7IGluZm8gJ86pYXBsX18xMCcsIFIgPSBhd2FpdCBtdWwgNiwgOTsgcmV0dXJuIFJcbiAgICBsaW1pdCAtPiBhd2FpdCBzbGVlcCBnZXRfcmFuZG9tLmZsb2F0KCk7IGluZm8gJ86pYXBsX18xMScsIFIgPSBhd2FpdCBtdWwgNywgOTsgcmV0dXJuIFJcbiAgICBsaW1pdCAtPiBhd2FpdCBzbGVlcCBnZXRfcmFuZG9tLmZsb2F0KCk7IGluZm8gJ86pYXBsX18xMicsIFIgPSBhd2FpdCBtdWwgOCwgOTsgcmV0dXJuIFJcbiAgICBsaW1pdCAtPiBhd2FpdCBzbGVlcCBnZXRfcmFuZG9tLmZsb2F0KCk7IGluZm8gJ86pYXBsX18xMycsIFIgPSBhd2FpdCBtdWwgOSwgOTsgcmV0dXJuIFJcbiAgICBsaW1pdCAtPiBhd2FpdCBzbGVlcCBnZXRfcmFuZG9tLmZsb2F0KCk7IGluZm8gJ86pYXBsX18xNCcsIFIgPSBhd2FpdCBtdWwgMTAsIDk7IHJldHVybiBSXG4gICAgXVxuICBkZWJ1ZyAnzqlhcGxfXzE1JywgYXdhaXQgUHJvbWlzZS5hbGwgaW5wdXRcbiAgO251bGxcblxuXG4jPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmlmIG1vZHVsZSBpcyByZXF1aXJlLm1haW4gdGhlbiBhd2FpdCBkbyA9PlxuICBhd2FpdCBkZW1vKClcbiAgO251bGxcblxuIl19
