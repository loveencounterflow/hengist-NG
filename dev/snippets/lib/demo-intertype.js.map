{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/demo-intertype.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n\n'use strict'\n\n#===========================================================================================================\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'demo-execa'\n{ rpr\n  inspect\n  echo\n  reverse\n  bold\n  log     }               = GUY.trm\nWEBGUY                    = require '../../../apps/webguy'\n{ nameit }                = WEBGUY.props\n\n\n#===========================================================================================================\nclass Intertype\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( cfg ) ->\n    # @_types = new Map()\n    GUY.props.hide @, 'isa',      @isa.bind       @\n    GUY.props.hide @, 'validate', @validate.bind  @\n    GUY.props.hide @, 'parse',    @parse.bind     @\n    GUY.props.hide @, 'type_of',  @type_of.bind   @\n    GUY.props.hide @, 'memo',     new Map()\n    return undefined\n\n  # #---------------------------------------------------------------------------------------------------------\n  # _compile: ( declaration ) ->\n  #   return R if ( R = @_types.get declaration )?\n  #   ### NOTE not doing anything for the time being ###\n  #   @_types.set declaration, R = declaration\n  #   return R\n\n  #---------------------------------------------------------------------------------------------------------\n  isa: ( type, x ) ->\n    debug 'Ω___1', type\n    unless ( R = type.isa x ) in [ true, false, ]\n    # unless ( R = ( @_compile declaration ).isa x ) in [ true, false, ]\n      throw new Error \"Ω___2 expected true or false, got #{rpr R}\"\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  type_of: ( x ) -> 'something'\n\n  #---------------------------------------------------------------------------------------------------------\n  validate: ( type, x ) ->\n    return x if @isa type, x\n    throw new Error \"Ω___3 expected a #{type.name}, got a #{@type_of x}\"\n\n  #---------------------------------------------------------------------------------------------------------\n  parse: ( type, x ) ->\n    unless ( method = type.parse )?\n      throw new Error \"Ω___4 expected a , got #{rpr R}\"\n\n\n#===========================================================================================================\nclass Intertype_type\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( name, declaration ) ->\n    ### NOTE not doing anything for the time being ###\n    debug 'Ω___5', declaration\n    @name = name\n    ### TAINT check for accidental overwrites ###\n    for key, value of declaration\n      nameit name, value if key is 'isa' # check that value is function?\n      @[ key ] = value\n    return undefined\n\n\n#===========================================================================================================\nclass Intertype_namespace\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( namespace ) ->\n    debug 'Ω___6', namespace\n    for name, declaration of namespace\n      @[ name ] = new Intertype_type name, declaration\n    return undefined\n\n\n#===========================================================================================================\nstd = new Intertype_namespace\n  integer:\n    isa:    ( x ) -> Number.isInteger x\n    foo:    4\n\n\n#===========================================================================================================\nif module is require.main then await do =>\n  help 'Ω___7', types = new Intertype()\n  help 'Ω___8', std.integer\n  help 'Ω___9', std.integer.isa 5\n  help 'Ω__10', types.isa std.integer, 5.3\n  help 'Ω__11', types\n  help 'Ω__12', std\n  help 'Ω__13', types.validate std.integer, 5.3\n\n\n\n"
  ]
}