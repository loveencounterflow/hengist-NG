{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/demo-infinite-doublestack-proxy-as-html-producer.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n'use strict'\n\n#===========================================================================================================\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'demo-proxy'\n{ rpr\n  inspect\n  echo\n  white\n  blue\n  gold\n  grey\n  red\n  bold\n  reverse\n  log     }               = GUY.trm\n{ f }                     = require '../../../apps/effstring'\n# write                     = ( p ) -> process.stdout.write p\n{ nfa }                   = require '../../../apps/normalize-function-arguments'\nGTNG                      = require '../../../apps/guy-test-NG'\n{ Test                  } = GTNG\n\n\n\n#===========================================================================================================\n### NOTE Future Single-File Module ###\nrequire_list_utils = ->\n  append = ( list, P... ) -> list.splice list.length, 0, P...\n  return { append, }\n\n#-----------------------------------------------------------------------------------------------------------\n### NOTE Future Single-File Module ###\nrequire_escape_html_text = ->\n  escape_html_text = ( text ) ->\n    R = text\n    R = R.replace /&/g, '&amp;'\n    R = R.replace /</g, '&lt;'\n    R = R.replace />/g, '&gt;'\n    return R\n  return { escape_html_text, }\n\n#-----------------------------------------------------------------------------------------------------------\n### NOTE Future Single-File Module ###\nrequire_text_from_tagged_template_call = ->\n  ### NOTE When `expression_to_string` is given, it will be used to turn each expression (the parts of\n  tagged templates that are within curlies) into a string; could use this to apply some escaping etc. ###\n  create_text_from_tagged_template_call = ( expression_to_string = null ) ->\n    expression_to_string ?= ( expression ) -> \"#{expression}\"\n    return ( parts, expressions... ) ->\n      R = parts[ 0 ]\n      for expression, idx in expressions\n        R += ( expression_to_string expression ) + parts[ idx + 1 ]\n      return R\n  text_from_tagged_template_call = create_text_from_tagged_template_call()\n  return { create_text_from_tagged_template_call, text_from_tagged_template_call, }\n\n#-----------------------------------------------------------------------------------------------------------\n### NOTE Future Single-File Module ###\nrequire_is_tagged_template_call = ->\n  is_tagged_template_call = ( P... ) ->\n    return false unless Array.isArray   P[ 0 ]\n    return false unless Object.isFrozen P[ 0 ]\n    return false unless P[ 0 ].raw?\n    return true\n  return { is_tagged_template_call, }\n\n#===========================================================================================================\nclass Raw\n  constructor: ( text ) ->\n    @data = text\n    return undefined\n  toString: -> @data\n\n#-----------------------------------------------------------------------------------------------------------\ncreate_html_escaped_text_from_tagged_template_call = ( dont_escape = null ) ->\n  { create_text_from_tagged_template_call,  } = require_text_from_tagged_template_call()\n  { escape_html_text,                       } = require_escape_html_text()\n  #.........................................................................................................\n  html_safe_text_from_tagged_template_call = create_text_from_tagged_template_call ( expression ) ->\n    R = \"#{expression}\"\n    if dont_escape?\n      R = escape_html_text R unless dont_escape expression\n    return R\n  #.........................................................................................................\n  return { html_safe_text_from_tagged_template_call, }\n\n\n#===========================================================================================================\ndemo_proxy_as_html_producer = ->\n  { is_tagged_template_call,                  } = require_is_tagged_template_call()\n  { html_safe_text_from_tagged_template_call, } = do =>\n    dont_escape_raw_instances = ( x ) -> x instanceof Raw\n    return create_html_escaped_text_from_tagged_template_call dont_escape_raw_instances\n  #.........................................................................................................\n  do test_is_tagged_template_call = =>\n    fn = ( P... ) -> is_tagged_template_call P...\n    @eq ( Ωidsp___1 = -> fn()             ), false\n    @eq ( Ωidsp___2 = -> fn [ 1, 2, 3, ]  ), false\n    @eq ( Ωidsp___3 = -> fn\"[ 1, 2, 3, ]\" ), true\n  #.........................................................................................................\n  echo '——————————————————————————————————————————————————————————————————————————————'\n  return null\n\n#===========================================================================================================\nif module is require.main then await do =>\n  # demo_infinite_proxy()\n  # demo_colorful_proxy()\n  guytest_cfg = { throw_on_error: false,  show_passes: false, report_checks: false, }\n  guytest_cfg = { throw_on_error: true,   show_passes: false, report_checks: false, }\n  ( new Test guytest_cfg ).test { demo_proxy_as_html_producer, }\n"
  ]
}