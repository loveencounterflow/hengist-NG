{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/demo-cleartype-types-as-classes.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n###\n\n1.  ```\n    class Type\n      ...\n    type      = new Type type_cfg\n    integer   = type.create { name: 'integer',  isa: ( -> ), ..., }\n    quantity  = type.create { name: 'quantity', isa: ( -> ), ..., q: ..., u: ..., }\n\n    # usage:\n    integer.create 3.141\n    ```\n\n2.  ```\n    class Integer extends Type\n      isa:     ( x ) -> Number.isInteger x\n      create:  ( x ) -> parseInt x, 10\n    integer = new Integer()\n\n    # usage:\n    integer.create 3.141\n    ```\n\n3.  ```\n    class integer extends Type\n      @isa:    ( x ) -> Number.isInteger x\n      @create: ( x ) -> parseInt x, 10\n\n    # usage:\n    integer.create 3.141\n    ```\n\n###\n\n\n'use strict'\n\n#===========================================================================================================\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'demo-execa'\n{ rpr\n  inspect\n  echo\n  reverse\n  bold\n  log     }               = GUY.trm\n{ hide }                  = GUY.props\n{ props: {\n    nameit } }            = require '../../../apps/webguy'\n\n\n#===========================================================================================================\nrequire_cleartype = ->\n\n  #===========================================================================================================\n  class Type\n\n    #---------------------------------------------------------------------------------------------------------\n    constructor: ->\n      return undefined\n\n    #---------------------------------------------------------------------------------------------------------\n    create: ( dcl ) ->\n      fields = {}\n      has_fields = do =>\n        return false unless dcl.fields?\n        count = 0\n        for subtype_name, subtype of dcl.fields\n          count++\n          fields[ subtype_name ] = subtype\n        return count isnt 0\n      #.......................................................................................................\n      if dcl.isa?\n        isa = ( x ) -> dcl.isa x\n      else\n        ### TAINT check whether there are fields ###\n        isa = ( x ) ->\n          return false unless x?\n          return false unless x.constructor in [ Object, undefined, ] ### stad.pod.isa x ###\n          if has_fields\n            for field_name, subtype of dcl.fields\n              continue if subtype.isa x[ field_name ]\n              warn 'Ω___1', \"x.#{field_name} is not a #{subtype.name}\"\n              return false\n          return true\n      #.......................................................................................................\n      create = dcl.create ? ->\n      # if dcl.create?\n      #   create = ( x ) -> dcl.create x\n      # else\n      #   ### TAINT check whether there are fields ###\n      #   fields = {}\n      #   for field_name, dsc of Object.getOwnPropertyDescriptors dcl\n\n      #.......................................................................................................\n      R             = {}\n      R.isa         =    isa.bind R\n      R.create      = create.bind R\n      R.fields      = fields\n      R.has_fields  = has_fields\n      return R\n\n    #---------------------------------------------------------------------------------------------------------\n    validate: ( x ) ->\n    isa: ( x ) ->\n\n  #-----------------------------------------------------------------------------------------------------------\n  type = new Type()\n\n  #-----------------------------------------------------------------------------------------------------------\n  text = type.create\n    name:     'text'\n    isa:      ( x ) -> ( Object::toString.call x ) is '[object String]'\n    create:   ( x ) -> x?.toString() ? ''\n  #-----------------------------------------------------------------------------------------------------------\n  nonempty_text = type.create\n    name:     'nonempty_text'\n    isa:      ( x ) -> ( text.isa x ) and ( x.length isnt 0 )\n    create:   ( x ) -> x?.toString() ? ''\n  #-----------------------------------------------------------------------------------------------------------\n  float = type.create\n    name:     'float'\n    isa:      ( x ) -> Number.isFinite x\n    create:   ( n = 0 ) -> if x? then ( parseFloat x ) else 0\n  #-----------------------------------------------------------------------------------------------------------\n  quantity_q = type.create\n    name:     'q'\n    isa:      ( x ) -> float.isa x\n  #-----------------------------------------------------------------------------------------------------------\n  quantity_u = type.create\n    name:     'u'\n    isa:      ( x ) -> nonempty_text.isa x\n  #-----------------------------------------------------------------------------------------------------------\n  quantity = type.create\n    name:     'quantity'\n    create:   ( cfg ) -> { q: 0, u: 'u', cfg..., }\n    fields:\n      q:        quantity_q\n      u:        quantity_u\n  #-----------------------------------------------------------------------------------------------------------\n  integer = type.create\n    name:     'integer'\n    isa:      ( x ) -> Number.isInteger x\n    create:   ( n = 0 ) -> if x? then ( parseInt n, 10 ) else 0\n\n  #===========================================================================================================\n  std = { text, nonempty_text, float, integer, quantity, }\n\n  #=========================================================================================================\n  return { std, Type, }\n\n\n#===========================================================================================================\nif module is require.main then await do =>\n  { Type\n    std             } = require_cleartype()\n  info 'Ω___2', std\n  do =>\n    echo()\n    info 'Ω___3', std.integer\n    info 'Ω___4', std.integer.isa 3.141\n    info 'Ω___5', std.integer.isa 3\n    info 'Ω___6', std.integer.create '3'\n    info 'Ω___7', std.integer.create()\n  do =>\n    echo()\n    info 'Ω___8', std.nonempty_text\n    info 'Ω___9', std.nonempty_text.isa 3.141\n    info 'Ω__10', std.nonempty_text.isa ''\n    info 'Ω__11', std.nonempty_text.isa 'd'\n    info 'Ω__12', std.nonempty_text.create()\n    info 'Ω__13', std.nonempty_text.create false\n    info 'Ω__14', std.nonempty_text.create 'd'\n  do =>\n    echo()\n    info 'Ω__15', std.quantity\n    info 'Ω__16', std.quantity.create()\n    info 'Ω__17', std.quantity.create  { q: 4.3, u: 's', }\n    info 'Ω__18', std.quantity.isa     { q: 4.3, u: 's', }\n    info 'Ω__19', std.quantity.fields.q.isa 7\n    info 'Ω__20', std.quantity.fields.q.isa Infinity\n    info 'Ω__21', std.quantity.fields.u.create 'g'\n\n"
  ]
}