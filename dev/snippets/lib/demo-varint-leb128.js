(async function() {
  'use strict';
  var GUY, SFMODULES, alert, blue, bold, debug, demo_big_leb128, demo_big_varint, demo_varint, echo, f, gold, green, grey, help, hex_from_typed_array, hide, info, inspect, lime, log, plain, praise, red, reverse, rpr, set_getter, timeit, urge, warn, whisper, white;

  //===========================================================================================================
  GUY = require('guy');

  ({alert, debug, help, info, plain, praise, urge, warn, whisper} = GUY.trm.get_loggers('demo-build-unicode-ranges'));

  ({rpr, inspect, echo, white, green, lime, blue, gold, grey, red, bold, reverse, log} = GUY.trm);

  ({f} = require('../../../apps/effstring'));

  // write                     = ( p ) -> process.stdout.write p
  // { nfa }                   = require '../../../apps/normalize-function-arguments'
  // GTNG                      = require '../../../apps/guy-test-NG'
  // { Test                  } = GTNG
  // mkdirp                    = require 'mkdirp'
  // env_paths                 = ( require 'env-paths' ).default 'demo-node-sqlite'
  // SQLITE                    = require 'node:sqlite'
  // PATH                      = require 'node:path'
  // { SQL }                   = require '../../../apps/dbay'
  // { default: \
  //   on_process_exit,      } = require 'exit-hook'
  // FS                        = require 'node:fs'
  SFMODULES = require('../../../apps/bricabrac-single-file-modules');

  ({hide, set_getter} = SFMODULES.require_managed_property_tools());

  ({timeit} = SFMODULES.unstable.require_benchmarking());

  //===========================================================================================================
  hex_from_typed_array = function(array, joiner = '', zero = '_') {
    var R;
    R = (Array.from(array, (byte) => {
      return (byte.toString(16)).padStart(2, '0');
    })).join(joiner);
    return R.replace(/0/gv, zero);
  };

  //===========================================================================================================
  demo_varint = function() {
    var bytes, i, len, n, offset, ref, varint, vdx;
    varint = require('varint');
    debug('Ωvi___1', bytes = varint.encode(300)); // === [0xAC, 0x02]
    debug('Ωvi___2', varint.decode(bytes)); // 300
    debug('Ωvi___3', varint.decode.bytes); // 2 (the last decode() call required 2 bytes)
    debug('Ωvi___4', varint.decode([...(varint.encode(5)), ...(varint.encode(6))]));
    debug('Ωvi___5', varint.encodingLength(1e10));
    debug('Ωvi___6', varint.encodingLength(Number.MAX_SAFE_INTEGER));
    // for n in [ 0 ... 200 ]
    //   info 'Ωvi___7', n, bytes = varint.encode n
    debug('Ωvi___8', Buffer.from(varint.encode(123456)));
    vdx = new Uint8Array(16);
    offset = 0;
    ref = [1, 3, 5, 7, 9];
    for (i = 0, len = ref.length; i < len; i++) {
      n = ref[i];
      n *= 1000;
      vdx.set((bytes = varint.encode(n)), offset);
      whisper('Ωvi___9', bytes, varint.encode.bytes);
      offset += varint.encode.bytes;
    }
    help('Ωvi__10', hex_from_typed_array(vdx, '.'));
    return null;
  };

  //===========================================================================================================
  demo_big_varint = function() {
    var decode, encode, i, j, len, len1, n, number, numbers, varint, varints;
    ({encode, decode} = (require('big-varint')).signed);
    debug('Ωvi__11', hex_from_typed_array(encode(123n)));
    debug('Ωvi__12', hex_from_typed_array(encode(123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123n)));
    numbers = [-3, -2, -1, 0, 1, 2, 3];
    varints = (function() {
      var i, len, results;
      results = [];
      for (i = 0, len = numbers.length; i < len; i++) {
        n = numbers[i];
        results.push(encode(BigInt(n)));
      }
      return results;
    })();
    help('Ωvi__13', varints);
    varints.sort(function(a, b) {
      if (a[0] > b[0]) {
        return +1;
      }
      if (a[0] < b[0]) {
        return -1;
      }
      return 0;
    });
    for (i = 0, len = varints.length; i < len; i++) {
      varint = varints[i];
      help('Ωvi__14', decode(varint));
    }
    numbers.sort(function(a, b) {
      if (a > b) {
        return +1;
      }
      if (a < b) {
        return -1;
      }
      return 0;
    });
    for (j = 0, len1 = numbers.length; j < len1; j++) {
      number = numbers[j];
      urge('Ωvi__15', number);
    }
    return null;
  };

  
// thx to https://en.wikipedia.org/wiki/LEB128
const encodeSignedLeb128FromBigInt = (value) => {
  value = BigInt(value);
  const result = [];
  while (true) {
    const byte_ = Number(value & 0x7fn);
    value >>= 7n;
    if (
      (value === 0n && (byte_ & 0x40) === 0) ||
      (value === -1n && (byte_ & 0x40) !== 0)
    ) {
      result.push(byte_);
      return result;
    }
    result.push(byte_ | 0x80);
  }
};
const decodeSignedBigInt = (input) => {
  let result = 0n;
  let shift = 0;
  while (true) {
    const byte = input.shift();
    result |= BigInt((byte & 0x7f) << shift);
    shift += 7;
    if ((byte & 0x80) === 0) {
      // "sign-extending" does not apply to bigint because it has no fixed size
      // instead, we work by handling it as a two's complement of "shift" bits long,
      // which is provided by BigInt.asIntN
      return BigInt.asIntN(shift, result);
    }
  }
};

;

  //===========================================================================================================
  demo_big_leb128 = function() {
    var decode, encode, i, j, len, len1, n, number, numbers, varint, varints;
    encode = encodeSignedLeb128FromBigInt;
    decode = decodeSignedBigInt;
    info('Ωvi__16', '-123n', encode(-123n));
    info('Ωvi__17', '-1n  ', encode(-1n));
    info('Ωvi__18', '1n   ', encode(1n));
    info('Ωvi__19', '123n ', encode(123n));
    debug('Ωvi__20', hex_from_typed_array(encode(123n)));
    debug('Ωvi__21', hex_from_typed_array(encode(123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123_123n)));
    numbers = [...[-3, -2, -1, 0, 1, 2, 3], -127n, 127n];
    varints = (function() {
      var i, len, results;
      results = [];
      for (i = 0, len = numbers.length; i < len; i++) {
        n = numbers[i];
        results.push(encode(BigInt(n)));
      }
      return results;
    })();
    help('Ωvi__22', varints);
    varints.sort(function(a, b) {
      if (a[0] > b[0]) {
        return +1;
      }
      if (a[0] < b[0]) {
        return -1;
      }
      return 0;
    });
    for (i = 0, len = varints.length; i < len; i++) {
      varint = varints[i];
      help('Ωvi__23', decode(varint));
    }
    numbers.sort(function(a, b) {
      if (a > b) {
        return +1;
      }
      if (a < b) {
        return -1;
      }
      return 0;
    });
    for (j = 0, len1 = numbers.length; j < len1; j++) {
      number = numbers[j];
      urge('Ωvi__24', number);
    }
    debug('Ωvi__21', numbers);
    return null;
  };

  //===========================================================================================================
  if (module === require.main) {
    await (() => {
      demo_varint();
      demo_big_varint();
      return demo_big_leb128();
    })();
  }

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2RlbW8tdmFyaW50LWxlYjEyOC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFBQTtBQUFBLE1BQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsZUFBQSxFQUFBLGVBQUEsRUFBQSxXQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsb0JBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxLQUFBOzs7RUFHQSxHQUFBLEdBQTRCLE9BQUEsQ0FBUSxLQUFSOztFQUM1QixDQUFBLENBQUUsS0FBRixFQUNFLEtBREYsRUFFRSxJQUZGLEVBR0UsSUFIRixFQUlFLEtBSkYsRUFLRSxNQUxGLEVBTUUsSUFORixFQU9FLElBUEYsRUFRRSxPQVJGLENBQUEsR0FRNEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxXQUFSLENBQW9CLDJCQUFwQixDQVI1Qjs7RUFTQSxDQUFBLENBQUUsR0FBRixFQUNFLE9BREYsRUFFRSxJQUZGLEVBR0UsS0FIRixFQUlFLEtBSkYsRUFLRSxJQUxGLEVBTUUsSUFORixFQU9FLElBUEYsRUFRRSxJQVJGLEVBU0UsR0FURixFQVVFLElBVkYsRUFXRSxPQVhGLEVBWUUsR0FaRixDQUFBLEdBWTRCLEdBQUcsQ0FBQyxHQVpoQzs7RUFhQSxDQUFBLENBQUUsQ0FBRixDQUFBLEdBQTRCLE9BQUEsQ0FBUSx5QkFBUixDQUE1QixFQTFCQTs7Ozs7Ozs7Ozs7Ozs7RUF1Q0EsU0FBQSxHQUE0QixPQUFBLENB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SUFJQSxLQUFBLHlDQUFBOztNQUNFLElBQUEsQ0FBSyxTQUFMLEVBQWdCLE1BQUEsQ0FBTyxNQUFQLENBQWhCO0lBREY7SUFFQSxPQUFPLENBQUMsSUFBUixDQUFhLFFBQUEsQ0FBRSxDQUFGLEVBQUssQ0FBTCxDQUFBO01BQ1gsSUFBYSxDQUFBLEdBQUksQ0FBakI7QUFBQSxlQUFPLENBQUMsRUFBUjs7TUFDQSxJQUFhLENBQUEsR0FBSSxDQUFqQjtBQUFBLGVBQU8sQ0FBQyxFQUFSOztBQUNBLGFBQVE7SUFIRyxDQUFiO0lBSUEsS0FBQSwyQ0FBQTs7TUFDRSxJQUFBLENBQUssU0FBTCxFQUFnQixNQUFoQjtJQURGO0lBRUEsS0FBQSxDQUFNLFNBQU4sRUFBaUIsT0FBakI7QUFDQSxXQUFPO0VBekJTLEVBeElsQjs7O0VBcUtBLElBQUcsTUFBQSxLQUFVLE9BQU8sQ0FBQyxJQUFyQjtJQUErQixNQUFTLENBQUEsQ0FBQSxDQUFBLEdBQUE7TUFDdEMsV0FBQSxDQUFBO01BQ0EsZUFBQSxDQUFBO2FBQ0EsZUFBQSxDQUFBO0lBSHNDLENBQUEsSUFBeEM7O0FBcktBIiwic291cmNlc0NvbnRlbnQiOlsiXG5cblxuJ3VzZSBzdHJpY3QnXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuR1VZICAgICAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJ2d1eSdcbnsgYWxlcnRcbiAgZGVidWdcbiAgaGVscFxuICBpbmZvXG4gIHBsYWluXG4gIHByYWlzZVxuICB1cmdlXG4gIHdhcm5cbiAgd2hpc3BlciB9ICAgICAgICAgICAgICAgPSBHVVkudHJtLmdldF9sb2dnZXJzICdkZW1vLWJ1aWxkLXVuaWNvZGUtcmFuZ2VzJ1xueyBycHJcbiAgaW5zcGVjdFxuICBlY2hvXG4gIHdoaXRlXG4gIGdyZWVuXG4gIGxpbWVcbiAgYmx1ZVxuICBnb2xkXG4gIGdyZXlcbiAgcmVkXG4gIGJvbGRcbiAgcmV2ZXJzZVxuICBsb2cgICAgIH0gICAgICAgICAgICAgICA9IEdVWS50cm1cbnsgZiB9ICAgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICcuLi8uLi8uLi9hcHBzL2VmZnN0cmluZydcbiMgd3JpdGUgICAgICAgICAgICAgICAgICAgICA9ICggcCApIC0+IHByb2Nlc3Muc3Rkb3V0LndyaXRlIHBcbiMgeyBuZmEgfSAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJy4uLy4uLy4uL2FwcHMvbm9ybWFsaXplLWZ1bmN0aW9uLWFyZ3VtZW50cydcbiMgR1RORyAgICAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJy4uLy4uLy4uL2FwcHMvZ3V5LXRlc3QtTkcnXG4jIHsgVGVzdCAgICAgICAgICAgICAgICAgIH0gPSBHVE5HXG4jIG1rZGlycCAgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICdta2RpcnAnXG4jIGVudl9wYXRocyAgICAgICAgICAgICAgICAgPSAoIHJlcXVpcmUgJ2Vudi1wYXRocycgKS5kZWZhdWx0ICdkZW1vLW5vZGUtc3FsaXRlJ1xuIyBTUUxJVEUgICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnbm9kZTpzcWxpdGUnXG4jIFBBVEggICAgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICdub2RlOnBhdGgnXG4jIHsgU1FMIH0gICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICcuLi8uLi8uLi9hcHBzL2RiYXknXG4jIHsgZGVmYXVsdDogXFxcbiMgICBvbl9wcm9jZXNzX2V4aXQsICAgICAgfSA9IHJlcXVpcmUgJ2V4aXQtaG9vaydcbiMgRlMgICAgICAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJ25vZGU6ZnMnXG5TRk1PRFVMRVMgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnLi4vLi4vLi4vYXBwcy9icmljYWJyYWMtc2luZ2xlLWZpbGUtbW9kdWxlcydcbnsgaGlkZSxcbiAgc2V0X2dldHRlciwgICAgICAgICAgIH0gPSBTRk1PRFVMRVMucmVxdWlyZV9tYW5hZ2VkX3Byb3BlcnR5X3Rvb2xzKClcbnsgdGltZWl0LCAgICAgICAgICAgICAgIH0gPSBTRk1PRFVMRVMudW5zdGFibGUucmVxdWlyZV9iZW5jaG1hcmtpbmcoKVxuXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuaGV4X2Zyb21fdHlwZWRfYXJyYXkgPSAoIGFycmF5LCBqb2luZXIgPSAnJywgemVybyA9ICdfJyApIC0+XG4gIFIgPSAoIEFycmF5LmZyb20gYXJyYXksICggYnl0ZSApID0+ICggYnl0ZS50b1N0cmluZyAxNiApLnBhZFN0YXJ0IDIsICcwJyApLmpvaW4gam9pbmVyXG4gIHJldHVybiBSLnJlcGxhY2UgLzAvZ3YsIHplcm9cblxuXG4jPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmRlbW9fdmFyaW50ID0gLT5cbiAgdmFyaW50ICAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJ3ZhcmludCdcbiAgZGVidWcgJ86pdmlfX18xJywgYnl0ZXMgPSB2YXJpbnQuZW5jb2RlIDMwMCAgIyA9PT0gWzB4QUMsIDB4MDJdXG4gIGRlYnVnICfOqXZpX19fMicsIHZhcmludC5kZWNvZGUgYnl0ZXMgICAgICAgICMgMzAwXG4gIGRlYnVnICfOqXZpX19fMycsIHZhcmludC5kZWNvZGUuYnl0ZXMgICAgICAgICMgMiAodGhlIGxhc3QgZGVjb2RlKCkgY2FsbCByZXF1aXJlZCAyIGJ5dGVzKVxuICBkZWJ1ZyAnzql2aV9fXzQnLCB2YXJpbnQuZGVjb2RlIFsgKCB2YXJpbnQuZW5jb2RlIDUgKS4uLiwgKCB2YXJpbnQuZW5jb2RlIDYgKS4uLiwgXVxuICBkZWJ1ZyAnzql2aV9fXzUnLCB2YXJpbnQuZW5jb2RpbmdMZW5ndGggMWUxMFxuICBkZWJ1ZyAnzql2aV9fXzYnLCB2YXJpbnQuZW5jb2RpbmdMZW5ndGggTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcblxuICAjIGZvciBuIGluIFsgMCAuLi4gMjAwIF1cbiAgIyAgIGluZm8gJ86pdmlfX183JywgbiwgYnl0ZXMgPSB2YXJpbnQuZW5jb2RlIG5cblxuICBkZWJ1ZyAnzql2aV9fXzgnLCBCdWZmZXIuZnJvbSB2YXJpbnQuZW5jb2RlIDEyMzQ1NlxuXG4gIHZkeCA9IG5ldyBVaW50OEFycmF5IDE2XG4gIG9mZnNldCA9IDBcbiAgZm9yIG4gaW4gWyAxLCAzLCA1LCA3LCA5LCBdXG4gICAgbiAqPSAxMDAwXG4gICAgdmR4LnNldCAoIGJ5dGVzID0gdmFyaW50LmVuY29kZSBuICksIG9mZnNldFxuICAgIHdoaXNwZXIgJ86pdmlfX185JywgYnl0ZXMsIHZhcmludC5lbmNvZGUuYnl0ZXNcbiAgICBvZmZzZXQgKz0gdmFyaW50LmVuY29kZS5ieXRlc1xuICBoZWxwICfOqXZpX18xMCcsIGhleF9mcm9tX3R5cGVkX2FycmF5IHZkeCwgJy4nXG4gIHJldHVybiBudWxsXG5cblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5kZW1vX2JpZ192YXJpbnQgPSAtPlxuICB7IGVuY29kZSxcbiAgICBkZWNvZGUsICAgICB9ID0gKCByZXF1aXJlICdiaWctdmFyaW50JyApLnNpZ25lZFxuICBkZWJ1ZyAnzql2aV9fMTEnLCBoZXhfZnJvbV90eXBlZF9hcnJheSBlbmNvZGUgMTIzblxuICBkZWJ1ZyAnzql2aV9fMTInLCBoZXhfZnJvbV90eXBlZF9hcnJheSBlbmNvZGUgMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzblxuICBudW1iZXJzID0gWyAtMyAuLiArMyBdXG4gIHZhcmludHMgPSAoIGVuY29kZSAoIEJpZ0ludCBuICkgZm9yIG4gaW4gbnVtYmVycyApXG4gIGhlbHAgJ86pdmlfXzEzJywgdmFyaW50c1xuICB2YXJpbnRzLnNvcnQgKCBhLCBiICkgLT5cbiAgICByZXR1cm4gKzEgaWYgYVsgMCBdID4gYlsgMCBdXG4gICAgcmV0dXJuIC0xIGlmIGFbIDAgXSA8IGJbIDAgXVxuICAgIHJldHVybiAgMFxuICBmb3IgdmFyaW50IGluIHZhcmludHNcbiAgICBoZWxwICfOqXZpX18xNCcsIGRlY29kZSB2YXJpbnRcbiAgbnVtYmVycy5zb3J0ICggYSwgYiApIC0+XG4gICAgcmV0dXJuICsxIGlmIGEgPiBiXG4gICAgcmV0dXJuIC0xIGlmIGEgPCBiXG4gICAgcmV0dXJuICAwXG4gIGZvciBudW1iZXIgaW4gbnVtYmVyc1xuICAgIHVyZ2UgJ86pdmlfXzE1JywgbnVtYmVyXG4gIHJldHVybiBudWxsXG5cbmBgYFxuLy8gdGh4IHRvIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xFQjEyOFxuY29uc3QgZW5jb2RlU2lnbmVkTGViMTI4RnJvbUJpZ0ludCA9ICh2YWx1ZSkgPT4ge1xuICB2YWx1ZSA9IEJpZ0ludCh2YWx1ZSk7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IGJ5dGVfID0gTnVtYmVyKHZhbHVlICYgMHg3Zm4pO1xuICAgIHZhbHVlID4+PSA3bjtcbiAgICBpZiAoXG4gICAgICAodmFsdWUgPT09IDBuICYmIChieXRlXyAmIDB4NDApID09PSAwKSB8fFxuICAgICAgKHZhbHVlID09PSAtMW4gJiYgKGJ5dGVfICYgMHg0MCkgIT09IDApXG4gICAgKSB7XG4gICAgICByZXN1bHQucHVzaChieXRlXyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXN1bHQucHVzaChieXRlXyB8IDB4ODApO1xuICB9XG59O1xuY29uc3QgZGVjb2RlU2lnbmVkQmlnSW50ID0gKGlucHV0KSA9PiB7XG4gIGxldCByZXN1bHQgPSAwbjtcbiAgbGV0IHNoaWZ0ID0gMDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCBieXRlID0gaW5wdXQuc2hpZnQoKTtcbiAgICByZXN1bHQgfD0gQmlnSW50KChieXRlICYgMHg3ZikgPDwgc2hpZnQpO1xuICAgIHNoaWZ0ICs9IDc7XG4gICAgaWYgKChieXRlICYgMHg4MCkgPT09IDApIHtcbiAgICAgIC8vIFwic2lnbi1leHRlbmRpbmdcIiBkb2VzIG5vdCBhcHBseSB0byBiaWdpbnQgYmVjYXVzZSBpdCBoYXMgbm8gZml4ZWQgc2l6ZVxuICAgICAgLy8gaW5zdGVhZCwgd2Ugd29yayBieSBoYW5kbGluZyBpdCBhcyBhIHR3bydzIGNvbXBsZW1lbnQgb2YgXCJzaGlmdFwiIGJpdHMgbG9uZyxcbiAgICAgIC8vIHdoaWNoIGlzIHByb3ZpZGVkIGJ5IEJpZ0ludC5hc0ludE5cbiAgICAgIHJldHVybiBCaWdJbnQuYXNJbnROKHNoaWZ0LCByZXN1bHQpO1xuICAgIH1cbiAgfVxufTtcblxuYGBgXG4jPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmRlbW9fYmlnX2xlYjEyOCA9IC0+XG4gIGVuY29kZSAgICAgICAgICA9IGVuY29kZVNpZ25lZExlYjEyOEZyb21CaWdJbnRcbiAgZGVjb2RlICAgICAgICAgID0gZGVjb2RlU2lnbmVkQmlnSW50XG4gIGluZm8gJ86pdmlfXzE2JywgJy0xMjNuJywgZW5jb2RlIC0xMjNuXG4gIGluZm8gJ86pdmlfXzE3JywgJy0xbiAgJywgZW5jb2RlIC0xblxuICBpbmZvICfOqXZpX18xOCcsICcxbiAgICcsIGVuY29kZSAxblxuICBpbmZvICfOqXZpX18xOScsICcxMjNuICcsIGVuY29kZSAxMjNuXG4gIGRlYnVnICfOqXZpX18yMCcsIGhleF9mcm9tX3R5cGVkX2FycmF5IGVuY29kZSAxMjNuXG4gIGRlYnVnICfOqXZpX18yMScsIGhleF9mcm9tX3R5cGVkX2FycmF5IGVuY29kZSAxMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNfMTIzXzEyM18xMjNuXG4gIG51bWJlcnMgPSBbIFsgLTMgLi4gKzMgXS4uLiwgLTEyN24sIDEyN24sIF1cbiAgdmFyaW50cyA9ICggZW5jb2RlICggQmlnSW50IG4gKSBmb3IgbiBpbiBudW1iZXJzIClcbiAgaGVscCAnzql2aV9fMjInLCB2YXJpbnRzXG4gIHZhcmludHMuc29ydCAoIGEsIGIgKSAtPlxuICAgIHJldHVybiArMSBpZiBhWyAwIF0gPiBiWyAwIF1cbiAgICByZXR1cm4gLTEgaWYgYVsgMCBdIDwgYlsgMCBdXG4gICAgcmV0dXJuICAwXG4gIGZvciB2YXJpbnQgaW4gdmFyaW50c1xuICAgIGhlbHAgJ86pdmlfXzIzJywgZGVjb2RlIHZhcmludFxuICBudW1iZXJzLnNvcnQgKCBhLCBiICkgLT5cbiAgICByZXR1cm4gKzEgaWYgYSA+IGJcbiAgICByZXR1cm4gLTEgaWYgYSA8IGJcbiAgICByZXR1cm4gIDBcbiAgZm9yIG51bWJlciBpbiBudW1iZXJzXG4gICAgdXJnZSAnzql2aV9fMjQnLCBudW1iZXJcbiAgZGVidWcgJ86pdmlfXzIxJywgbnVtYmVyc1xuICByZXR1cm4gbnVsbFxuXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuaWYgbW9kdWxlIGlzIHJlcXVpcmUubWFpbiB0aGVuIGF3YWl0IGRvID0+XG4gIGRlbW9fdmFyaW50KClcbiAgZGVtb19iaWdfdmFyaW50KClcbiAgZGVtb19iaWdfbGViMTI4KClcblxuIl19
