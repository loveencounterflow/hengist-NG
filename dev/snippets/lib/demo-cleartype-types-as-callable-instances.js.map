{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/demo-cleartype-types-as-callable-instances.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n#===========================================================================================================\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'intertype/test-basics'\n{ rpr\n  inspect\n  echo\n  reverse\n  log     }               = GUY.trm\n# WGUY                      = require '../../../apps/webguy'\n#...........................................................................................................\nGTNG                      = require '../../../apps/guy-test-NG'\n{ Test                  } = GTNG\n#...........................................................................................................\n{ f }                     = require '../../../apps/effstring'\n#...........................................................................................................\n{ red\n  gold\n  bold\n  white\n  lime\n  reverse               } = GUY.trm\ntruth                     = ( x ) -> GUY.trm.truth x\n\n#===========================================================================================================\npod_prototypes = Object.freeze [ null, ( Object.getPrototypeOf {} ), ]\ngnd =\n  text:       isa: ( x ) -> ( typeof x ) is 'string'\n  function:   isa: ( x ) -> ( typeof x ) is 'function'\n  pod:        isa: ( x ) -> x? and ( Object.getPrototypeOf x ) in pod_prototypes\n  list:       isa: ( x ) -> Array.isArray x\n#...........................................................................................................\n{ hide }  = GUY.props\nnameit    = ( name, f ) -> Object.defineProperty f, 'name', { value: name, }\n\n\n#===========================================================================================================\nclass Unparsable_function_body extends Error\n\n\n#===========================================================================================================\nclass Revalex\n\n  #---------------------------------------------------------------------------------------------------------\n  revalex_from_function: ( fn ) ->\n    ### TAINT use JS tokenizer ###\n    ### NOTE restrictions:\n    * catches only last `return` statement, even if unreachable\n    * may misinterpret string literals, comments as source code\n    ###\n    source = fn.toString().replace /// \\s+ ///gsv, '\\x20'\n    unless ( match = source.match ///^ .* \\b return \\s (?<revalex> [^ ; ]+ ) .* $///sv )?\n      throw new Unparsable_function_body \"Ωtt___1 unable to parse function #{rpr source}\"\n    R = match.groups.revalex\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  normalize_revalex: ( fn ) ->\n    ### NOTE `revalex` short for '**RE**turn **VA**Lue **EX**pression' ###\n    ### TAINT use JS tokenizer ###\n    R = @revalex_from_function fn\n    R = R.replace ///  <=      ///gsv, 'lteq'\n    R = R.replace ///  >=      ///gsv, 'gteq'\n    R = R.replace ///  <       ///gsv, 'lt'\n    R = R.replace ///  >       ///gsv, 'gt'\n    R = R.replace ///  !==     ///gsv, 'isnt'\n    R = R.replace ///  &&      ///gsv, 'and'\n    R = R.replace ///  \\|\\|    ///gsv, 'or'\n    R = R.replace ///  !       ///gsv, 'not'\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  name_from_function: ( fn ) -> @name_from_revalex @normalize_revalex fn\n\n  #---------------------------------------------------------------------------------------------------------\n  name_from_revalex: ( revalex ) ->\n    R = revalex.replace /// [^ a-z A-Z 0-9 _ ]+         ///gsv, '_'\n    R = R.replace       ///^ _* (?<center> .*? ) _* $   ///gsv, '$<center>'\n    return R\n\nRVX = new Revalex()\n\n\n#===========================================================================================================\nclass Typespace\n\n#===========================================================================================================\nclass Type\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( typespace, typename, dcl ) ->\n    hide @, 'typespace',  typespace\n    hide @, 'dcl',        dcl\n    @name       = typename\n    @_normalize_dcl()\n    nameit \"isa_#{typename}\", @isa\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  isa: ( x ) ->\n    ### TAINT add reporting ###\n    for isa_clause in @isa_clauses\n      return false unless isa_clause x\n    return true\n\n  #---------------------------------------------------------------------------------------------------------\n  _normalize_dcl: ->\n    ### Convert 'isa-only' declarations into objects with explicit `isa`: ###\n    if gnd.pod.isa @dcl     then  dcl             = {       @dcl...,  }\n    else                          dcl             = { isa:  @dcl,     }\n    ### Convert singular `isa` declarations into list of clauses: ###\n    if gnd.list.isa dcl.isa then  @isa_clauses    = [ dcl.isa..., ]\n    else                          @isa_clauses    = [ dcl.isa,    ]\n    @_normalize_isa_clauses()\n    return dcl\n\n  #---------------------------------------------------------------------------------------------------------\n  _normalize_isa_clauses: ->\n    for isa_clause, idx in @isa_clauses then do ( isa_clause, idx ) =>\n      # debug 'Ωtt___2', @name, idx, ( rpr isa_clause )\n      #.................................................................................................\n      ### De-reference referenced type: ###\n      if ( gnd.text.isa isa_clause )\n        @isa_clauses[ idx ] = do ( ref_typename = isa_clause ) =>\n          unless Reflect.has @typespace, ref_typename\n            throw new Error \"Ωtt___3 unable to resolve #{rpr ref_typename} referenced by #{rpr @name}\"\n          ref_type = @typespace[ ref_typename ]\n          # debug 'Ωtt___4', @name, '->', ref_typename, rpr ref_type\n          # return nameit \"ref_#{ref_type.isa.name}\", ( x ) -> ref_type.isa x\n          return nameit \"ref_isa_#{ref_typename}\", ( x ) -> ref_type.isa x\n      #.................................................................................................\n      else if ( gnd.function.isa isa_clause )\n        if isa_clause.name is ''\n          nameit ( RVX.revalex_from_function isa_clause ), isa_clause\n          # nameit ( RVX.name_from_function isa_clause ), isa_clause\n      else\n        throw new Error \"Ωtt___6 unexpected type in ISA clause\"\n    return null\n\n\n\n#===========================================================================================================\ndemo_turning_lists_of_functions_into_objects_with_sensible_names = ->\n  #.........................................................................................................\n  ts =\n    #.......................................................................................................\n    ### Declare by DCL object whose `isa` property is a function: ###\n    function: { isa: ( ( x ) -> ( typeof x ) is 'function' ), }\n    #.......................................................................................................\n    ### Declare by 'immediate' function: ###\n    string: ( x ) -> ( typeof x ) is 'string'\n    #.......................................................................................................\n    ### Declare by 'immediate' reference to name of existing type: ###\n    text: 'string'\n    #.......................................................................................................\n    ### Declare by 'immediate' list of clauses: ###\n    nonempty_text: [\n        'text'\n        ( x ) -> x.length > 0 ]\n    #.......................................................................................................\n    ### Declare by DCL object whose `isa` property is a reference to name of existing type: ###\n    spork: { isa: 'nonempty_text', }\n    #.......................................................................................................\n    ### Declare by DCL object whose `isa` property is a list of clauses: ###\n    id: {\n      isa: [\n        'text'\n        ( x ) -> ( /^[a-z][a-z0-9]*$/.test x )\n        ]\n      }\n    #.......................................................................................................\n    foo: 'spork'\n    bar: 'foo'\n    baz: 'bar'\n  #.......................................................................................................\n  do =>\n    for typename, dcl of ts\n      ts[ typename ] = type = new Type ts, typename, dcl\n      echo f\"#{gold typename}:<15c; | #{white rpr dcl}:<60c; | #{lime rpr type.isa_clauses}:<60c;\"\n      # echo f\"#{gold typename}:<15c; | #{white rpr dcl}:<60c; | #{lime rpr type}:<60c; | #{gold rpr type.isa}:<60c;\"\n    return null\n  info 'Ωtt___7', \"ts.text                  \", ts.text\n  info 'Ωtt___8', \"ts.spork                 \", ts.spork\n  info()\n  info 'Ωtt___9', \"ts.text.isa 'pop'        \", truth ts.text.isa 'pop'\n  info 'Ωtt__10', \"ts.text.isa 87           \", truth ts.text.isa 87\n  info()\n  info 'Ωtt__11', \"ts.spork.isa 'pop'       \", truth ts.spork.isa 'pop'\n  info 'Ωtt__12', \"ts.spork.isa 87          \", truth ts.spork.isa 87\n  info()\n  info 'Ωtt__13', \"ts.id.isa 'pop'          \", truth ts.id.isa 'pop'\n  info 'Ωtt__14', \"ts.id.isa '3pop'         \", truth ts.id.isa '3pop'\n  info 'Ωtt__15', \"ts.id.isa 'pop3'         \", truth ts.id.isa 'pop3'\n  info()\n  info 'Ωtt__16', \"ts.spork.isa ''          \", truth ts.spork.isa ''\n  info 'Ωtt__17', \"ts.spork.isa 'A'         \", truth ts.spork.isa 'A'\n  info()\n  info 'Ωtt__18', \"ts.foo.isa ''            \", truth ts.foo.isa ''\n  info 'Ωtt__19', \"ts.bar.isa ''            \", truth ts.bar.isa ''\n  info 'Ωtt__20', \"ts.baz.isa ''            \", truth ts.baz.isa ''\n  info 'Ωtt__21', \"ts.foo.isa 'A'           \", truth ts.foo.isa 'A'\n  info 'Ωtt__22', \"ts.bar.isa 'A'           \", truth ts.bar.isa 'A'\n  info 'Ωtt__23', \"ts.baz.isa 'A'           \", truth ts.baz.isa 'A'\n  return null\n  # #.......................................................................................................\n  # compile_typespace = ( ts ) ->\n  #   for typename, dcl of ts\n  #     isa_clauses = {}\n  #     #...................................................................................................\n  #     debug 'Ωtt__24', 'dcl_isa', rpr dcl_isa\n  #     for dcl_isa_clause in dcl_isa\n  #       debug 'Ωtt__25', 'dcl_isa_clause', rpr dcl_isa_clause\n  #       #.................................................................................................\n  #       unless gnd.function.isa dcl_isa_clause\n  #         throw new Error \"Ωtt__26 expected a function, got #{rpr dcl_isa_clause}\"\n  #       #.................................................................................................\n  #       revalex             = RVX.normalize_revalex dcl_isa_clause\n  #       # dcl_isa_clause[RVX] = revalex\n  #       test_name           = \"#{typename}[#{rpr revalex}]\"\n  #       nameit test_name, dcl_isa_clause if dcl_isa_clause.name is ''\n  #       isa_clauses[ test_name ] = dcl_isa_clause\n  #     #...................................................................................................\n  #     ts[ typename ].isa = do ( typename, isa_clauses ) -> ( x, record = null ) ->\n  #       for name, isa_clause of isa_clauses\n  #         unless isa_clause.call null, x, record\n  #           record name if record?\n  #           return false\n  #       return true\n  # #.......................................................................................................\n  # compile_typespace ts\n  # for typename, dcl of ts\n  #   info 'Ωtt__27', typename, dcl.isa\n  #   # for name, dcl_isa_clause of isa_clauses\n  #   #   help 'Ωtt__28', f\"#{rpr name}:<30c; | #{dcl_isa_clause}\"\n  # #.......................................................................................................\n  # info 'Ωtt__29', ts.id.isa 'abc'\n  # info 'Ωtt__30', ts.id.isa '123'\n  # info 'Ωtt__31', ts.id.isa 'abc123'\n  # failed_tests = []\n  # record = ( name ) -> failed_tests.push name\n  # info 'Ωtt__32', ts.id.isa 'abc',    record; urge 'Ωtt__33', failed_tests; failed_tests.length = 0\n  # info 'Ωtt__34', ts.id.isa '123',    record; urge 'Ωtt__35', failed_tests; failed_tests.length = 0\n  # info 'Ωtt__36', ts.id.isa 123,      record; urge 'Ωtt__37', failed_tests; failed_tests.length = 0\n  # info 'Ωtt__38', ts.id.isa 'abc123', record; urge 'Ωtt__39', failed_tests; failed_tests.length = 0\n  return null\n\n\n#===========================================================================================================\nif module is require.main then await do =>\n  # guytest_cfg = { throw_on_error: true,   show_passes: true,  report_checks: false, }\n  # # guytest_cfg = { throw_on_error: false,  show_passes: false, report_checks: false, }\n  # ( new Test guytest_cfg ).test @nfa_tasks\n  demo_turning_lists_of_functions_into_objects_with_sensible_names()\n"
  ]
}