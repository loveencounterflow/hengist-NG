{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/demo-cleartype-types-as-callable-instances.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n#===========================================================================================================\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'intertype/test-basics'\n{ rpr\n  inspect\n  echo\n  reverse\n  log     }               = GUY.trm\n# WGUY                      = require '../../../apps/webguy'\n#...........................................................................................................\nGTNG                      = require '../../../apps/guy-test-NG'\n{ Test                  } = GTNG\n#...........................................................................................................\n{ f }                     = require '../../../apps/effstring'\n#...........................................................................................................\n{ red\n  gold\n  bold\n  white\n  lime\n  reverse               } = GUY.trm\ntruth                     = ( x ) -> GUY.trm.truth x\n\n#===========================================================================================================\npod_prototypes = Object.freeze [ null, ( Object.getPrototypeOf {} ), ]\ngnd =\n  text:       isa: ( x ) -> ( typeof x ) is 'string'\n  function:   isa: ( x ) -> ( typeof x ) is 'function'\n  pod:        isa: ( x ) -> x? and ( Object.getPrototypeOf x ) in pod_prototypes\n  list:       isa: ( x ) -> Array.isArray x\n  type:       isa: ( x ) -> x instanceof Type\n#...........................................................................................................\n# { hide }  = GUY.props\nnameit    = ( name, f ) -> Object.defineProperty f, 'name', { value: name, }\n\n#===========================================================================================================\nhide = ( object, name, value ) => Object.defineProperty object, name,\n    enumerable:   false\n    writable:     true\n    configurable: true\n    value:        value\n\n#===========================================================================================================\nhide_getter = ( object, name, getter ) => Object.defineProperty object, name,\n    enumerable:   false\n    configurable: true\n    get:          getter\n\n#===========================================================================================================\nset_getter = ( object, name, getter ) => Object.defineProperty object, name,\n    enumerable:   true\n    configurable: true\n    get:          getter\n\n\n#===========================================================================================================\nclass Unparsable_function_body extends Error\n\n\n#===========================================================================================================\nclass Revalex\n\n  #---------------------------------------------------------------------------------------------------------\n  revalex_from_function: ( fn ) ->\n    ### TAINT use JS tokenizer ###\n    ### NOTE restrictions:\n    * catches only last `return` statement, even if unreachable\n    * may misinterpret string literals, comments as source code\n    ###\n    source = fn.toString().replace /// \\s+ ///gsv, '\\x20'\n    unless ( match = source.match ///^ .* \\b return \\s (?<revalex> [^ ; ]+ ) .* $///sv )?\n      throw new Unparsable_function_body \"Ωtt___1 unable to parse function #{rpr source}\"\n    R = match.groups.revalex\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  normalize_revalex: ( fn ) ->\n    ### NOTE `revalex` short for '**RE**turn **VA**Lue **EX**pression' ###\n    ### TAINT use JS tokenizer ###\n    R = @revalex_from_function fn\n    R = R.replace ///  <=      ///gsv, 'lteq'\n    R = R.replace ///  >=      ///gsv, 'gteq'\n    R = R.replace ///  <       ///gsv, 'lt'\n    R = R.replace ///  >       ///gsv, 'gt'\n    R = R.replace ///  !==     ///gsv, 'isnt'\n    R = R.replace ///  &&      ///gsv, 'and'\n    R = R.replace ///  \\|\\|    ///gsv, 'or'\n    R = R.replace ///  !       ///gsv, 'not'\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  name_from_function: ( fn ) -> @name_from_revalex @normalize_revalex fn\n\n  #---------------------------------------------------------------------------------------------------------\n  name_from_revalex: ( revalex ) ->\n    R = revalex.replace /// [^ a-z A-Z 0-9 _ ]+         ///gsv, '_'\n    R = R.replace       ///^ _* (?<center> .*? ) _* $   ///gsv, '$<center>'\n    return R\n\nRVX = new Revalex()\ntypes_sym = Symbol.for 'types'\n\n\n#===========================================================================================================\nclass Typespace\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( tsname, dcls = null ) ->\n    @name = tsname\n    hide @, types_sym, []\n    if dcls?\n      @add_type typename, dcl for typename, dcl of dcls\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  add_type: ( typename, dcl ) ->\n    if Reflect.has @, typename\n      throw new Error \"Ωtt___2 name clash #{rpr typename}\"\n    @[ typename ] = R = new Type @, typename, dcl\n    @[ types_sym ].push R\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  [Symbol.iterator]: -> yield from @[ types_sym ]\n\n\n#===========================================================================================================\nclass Type\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( typespace, typename, dcl ) ->\n    hide @, 'typespace',  typespace\n    hide @, 'dcl',        dcl\n    @name = typename\n    @_normalize_dcl()\n    nameit \"isa_#{typename}\", @isa\n    set_getter @, 'fqname',   => \"#{@typespace.name}.#{@name}\"\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  isa: ( x ) ->\n    ### TAINT add reporting ###\n    for isa_clause in @isa_clauses\n      return false unless isa_clause x\n    return true\n\n  #---------------------------------------------------------------------------------------------------------\n  _normalize_dcl: ->\n    ### Convert 'isa-only' declarations into objects with explicit `isa`: ###\n    if gnd.pod.isa @dcl     then  dcl             = {       @dcl...,  }\n    else                          dcl             = { isa:  @dcl,     }\n    ### Convert singular `isa` declarations into list of clauses: ###\n    if gnd.list.isa dcl.isa then  @isa_clauses    = [ dcl.isa..., ]\n    else                          @isa_clauses    = [ dcl.isa,    ]\n    @_normalize_isa_clauses()\n    return dcl\n\n  #---------------------------------------------------------------------------------------------------------\n  _normalize_isa_clauses: ->\n    for isa_clause, idx in @isa_clauses then do ( isa_clause, idx ) =>\n      # debug 'Ωtt___3', @name, idx, ( rpr isa_clause )\n      #.................................................................................................\n      ### De-reference referenced type: ###\n      if ( gnd.text.isa isa_clause )\n        @isa_clauses[ idx ] = do ( ref_typename = isa_clause ) =>\n          unless Reflect.has @typespace, ref_typename\n            throw new Error \"Ωtt___4 unable to resolve #{rpr ref_typename} referenced by #{rpr @name}\"\n          ref_type = @typespace[ ref_typename ]\n          # debug 'Ωtt___5', @name, '->', ref_typename, rpr ref_type\n          # return nameit \"ref_#{ref_type.isa.name}\", ( x ) -> ref_type.isa x\n          return nameit \"ref_isa_#{ref_typename}\", ( x ) -> ref_type.isa x\n      #.................................................................................................\n      else if ( gnd.function.isa isa_clause )\n        if isa_clause.name is ''\n          nameit ( RVX.revalex_from_function isa_clause ), isa_clause\n          # nameit ( RVX.name_from_function isa_clause ), isa_clause\n      #.................................................................................................\n      else if ( gnd.type.isa isa_clause )\n        ### TAINT fill in `otherts` ###\n        ### TAINT use `type.fqname` ###\n        @isa_clauses[ idx ] = do ( type = isa_clause ) =>\n          nameit \"otherts.isa_#{type.name}\", ( x ) -> type.isa x\n      #.................................................................................................\n      else\n        throw new Error \"Ωtt___6 unexpected type in ISA clause\"\n    return null\n\n\n\n#===========================================================================================================\ndemo_turning_lists_of_functions_into_objects_with_sensible_names = ->\n  #.........................................................................................................\n  one = new Typespace 'one',\n    float: ( x ) -> Number.isFinite x\n  #.........................................................................................................\n  ts = new Typespace 'ts',\n    #.......................................................................................................\n    ### Declare by DCL object whose `isa` property is a function: ###\n    function: { isa: ( ( x ) -> ( typeof x ) is 'function' ), }\n    #.......................................................................................................\n    ### Declare by 'immediate' function: ###\n    string: ( x ) -> ( typeof x ) is 'string'\n    #.......................................................................................................\n    ### Declare by 'immediate' reference to name of existing type: ###\n    text: 'string'\n    #.......................................................................................................\n    ### Declare by 'immediate' list of clauses: ###\n    nonempty_text: [\n        'text'\n        ( x ) -> x.length > 0 ]\n    #.......................................................................................................\n    ### Declare by DCL object whose `isa` property is a reference to name of existing type: ###\n    spork: { isa: 'nonempty_text', }\n    #.......................................................................................................\n    ### Declare by DCL object whose `isa` property is a list of clauses: ###\n    id: {\n      isa: [ 'text', ( ( x ) -> /^[a-z][a-z0-9]*$/.test x ) ]\n      }\n    #.......................................................................................................\n    ### Declare using an existing type: ###\n    length: [ one.float, ( ( x ) -> x >= 0 ), ]\n    #.......................................................................................................\n    ### Chain of references: ###\n    foo: 'spork'\n    bar: 'foo'\n    baz: 'bar'\n    #.......................................................................................................\n    pod_1: gnd.pod\n    pod_2: ref_isa_gnd_pod = ( x ) -> gnd.pod.isa x\n  #.......................................................................................................\n  show_type = ( type ) ->\n    echo f\"#{gold type.fqname}:<15c; | #{white rpr type.dcl}:<60c; | #{lime rpr type.isa_clauses}:<60c;\"\n    return null\n  for typespace in [ one, ts, ]\n    for type from typespace\n      show_type type\n  #.......................................................................................................\n  info 'Ωtt__12', \"ts.text                  \", ts.text\n  info 'Ωtt__13', \"ts.spork                 \", ts.spork\n  info()\n  info 'Ωtt__14', \"ts.text.isa 'pop'        \", truth ts.text.isa 'pop'\n  info 'Ωtt__15', \"ts.text.isa 87           \", truth ts.text.isa 87\n  info()\n  info 'Ωtt__16', \"ts.spork.isa 'pop'       \", truth ts.spork.isa 'pop'\n  info 'Ωtt__17', \"ts.spork.isa 87          \", truth ts.spork.isa 87\n  info()\n  info 'Ωtt__18', \"ts.id.isa 'pop'          \", truth ts.id.isa 'pop'\n  info 'Ωtt__19', \"ts.id.isa '3pop'         \", truth ts.id.isa '3pop'\n  info 'Ωtt__20', \"ts.id.isa 'pop3'         \", truth ts.id.isa 'pop3'\n  info()\n  info 'Ωtt__21', \"ts.spork.isa ''          \", truth ts.spork.isa ''\n  info 'Ωtt__22', \"ts.spork.isa 'A'         \", truth ts.spork.isa 'A'\n  info()\n  info 'Ωtt__23', \"ts.foo.isa ''            \", truth ts.foo.isa ''\n  info 'Ωtt__24', \"ts.bar.isa ''            \", truth ts.bar.isa ''\n  info 'Ωtt__25', \"ts.baz.isa ''            \", truth ts.baz.isa ''\n  info 'Ωtt__26', \"ts.foo.isa 'A'           \", truth ts.foo.isa 'A'\n  info 'Ωtt__27', \"ts.bar.isa 'A'           \", truth ts.bar.isa 'A'\n  info 'Ωtt__28', \"ts.baz.isa 'A'           \", truth ts.baz.isa 'A'\n  info()\n  info 'Ωtt__29', \"ts.pod_1.isa {}          \", truth ts.pod_1.isa {}\n  info 'Ωtt__30', \"ts.pod_2.isa {}          \", truth ts.pod_2.isa {}\n  info()\n  info 'Ωtt__31', \"ts.length.isa {}         \", truth ts.length.isa {}\n  info 'Ωtt__32', \"ts.length.isa -3.5       \", truth ts.length.isa -3.5\n  info 'Ωtt__33', \"ts.length.isa +3.5       \", truth ts.length.isa +3.5\n  return null\n  # #.......................................................................................................\n  # compile_typespace = ( ts ) ->\n  #   for typename, dcl of ts\n  #     isa_clauses = {}\n  #     #...................................................................................................\n  #     debug 'Ωtt__34', 'dcl_isa', rpr dcl_isa\n  #     for dcl_isa_clause in dcl_isa\n  #       debug 'Ωtt__35', 'dcl_isa_clause', rpr dcl_isa_clause\n  #       #.................................................................................................\n  #       unless gnd.function.isa dcl_isa_clause\n  #         throw new Error \"Ωtt__36 expected a function, got #{rpr dcl_isa_clause}\"\n  #       #.................................................................................................\n  #       revalex             = RVX.normalize_revalex dcl_isa_clause\n  #       # dcl_isa_clause[RVX] = revalex\n  #       test_name           = \"#{typename}[#{rpr revalex}]\"\n  #       nameit test_name, dcl_isa_clause if dcl_isa_clause.name is ''\n  #       isa_clauses[ test_name ] = dcl_isa_clause\n  #     #...................................................................................................\n  #     ts[ typename ].isa = do ( typename, isa_clauses ) -> ( x, record = null ) ->\n  #       for name, isa_clause of isa_clauses\n  #         unless isa_clause.call null, x, record\n  #           record name if record?\n  #           return false\n  #       return true\n  # #.......................................................................................................\n  # compile_typespace ts\n  # for typename, dcl of ts\n  #   info 'Ωtt__37', typename, dcl.isa\n  #   # for name, dcl_isa_clause of isa_clauses\n  #   #   help 'Ωtt__38', f\"#{rpr name}:<30c; | #{dcl_isa_clause}\"\n  # #.......................................................................................................\n  # info 'Ωtt__39', ts.id.isa 'abc'\n  # info 'Ωtt__40', ts.id.isa '123'\n  # info 'Ωtt__41', ts.id.isa 'abc123'\n  # failed_tests = []\n  # record = ( name ) -> failed_tests.push name\n  # info 'Ωtt__42', ts.id.isa 'abc',    record; urge 'Ωtt__43', failed_tests; failed_tests.length = 0\n  # info 'Ωtt__44', ts.id.isa '123',    record; urge 'Ωtt__45', failed_tests; failed_tests.length = 0\n  # info 'Ωtt__46', ts.id.isa 123,      record; urge 'Ωtt__47', failed_tests; failed_tests.length = 0\n  # info 'Ωtt__48', ts.id.isa 'abc123', record; urge 'Ωtt__49', failed_tests; failed_tests.length = 0\n  return null\n\n\n#===========================================================================================================\nif module is require.main then await do =>\n  # guytest_cfg = { throw_on_error: true,   show_passes: true,  report_checks: false, }\n  # # guytest_cfg = { throw_on_error: false,  show_passes: false, report_checks: false, }\n  # ( new Test guytest_cfg ).test @nfa_tasks\n  demo_turning_lists_of_functions_into_objects_with_sensible_names()\n"
  ]
}